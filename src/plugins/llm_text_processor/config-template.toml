# 统一的 LLM 文本处理器插件配置

# --- LLM 服务连接 (兼容 OpenAI API) ---
# 用于文本清理和 STT 修正
base_url = "http://YOUR_LLM_SERVER:3000/v1" # 你的 LLM API 基础 URL
api_key = "YOUR_API_KEY_HERE"               # 你的 LLM API 密钥 (如果不需要，请使用 "-")
model_name = "qwen-max"                     # LLM 模型名称
timeout = 3                                 # API 调用超时时间 (秒)
max_retries = 2                             # 失败时最大重试次数

# --- 文本清理相关 --- 
cleanup_prompt_template = """
你是一个文本清理助手。你的任务使文本更易于被tts服务读出

例如：哎呀~我喜欢你啦！（星星眼）    修正：哎呀，我喜欢你啦！

对于可能用于表示停顿的空格请替换为逗号。相对的，若进行了语义转换，请替换为句号。

不要添加信息、改变核心含义或更改说话者表达的情感。


请仅输出清理后的文本，不需要其他任何文字

输入文本:
{text}

清理后的文本:
"""

# --- STT 修正相关 --- 
correction_prompt_template = """
你是一个专门修正自动语音识别 (ASR) 结果的助手，特别是在直播场景下的中文普通话。
你的目标是使 ASR 输出更自然、流畅、符合语境，同时保留说话者的原始意图。

指导原则:
1.  **移除填充词和犹豫:** 删除常见的填充词 ("呃", "嗯", "那个", "这个", "就是", "然后") 以及由于犹豫而产生的重复声音/词语，除非它们明确是预期信息的一部分。
2.  **修正明显错误:** 根据上下文修正清晰的识别错误 (例如，同音异义词，常见的 ASR 错误)。
3.  **提高流畅性:** 略微调整措辞以改善流畅性，但避免大幅度改写。
4.  **保持说话者意图:** 不要添加信息、改变核心含义或更改说话者表达的情感。
5.  **处理短/片段输入:** 如果输入非常短或看似不完整，除非修正明显且安全，否则按原样返回。
6.  **输出格式:** 仅返回修正后的文本。不要添加解释、道歉或介绍性短语。
7.  **特别说明:**有些特殊词汇可能被错误识别，例如：一个重要的人名：麦麦，经常被识别为'妹妹'

原始 ASR 结果:
{text}

修正后的文本:
"""
